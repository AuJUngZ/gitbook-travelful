# การวางแผนการท่องเที่ยวแบบอันโนมัติ Automatic Travel Plan Arrangement

การแผนการท่องเที่ยวแบบอัตโนมัติจะเกิดขึ้นได้สองรูปแบบ ได้แก่

* การสร้างแผนการท่องเที่ยวครั้งแรก: เมื่อผู้ใช้งานทำการสร้างแผนครั้งแรก เซอร์วิสหลังบ้านจะทำการสร้างแผนการท่องเที่ยวโดยอ้างอิงข้อมูลจากสถานที่ที่ผู้ใช้งานใส่ และสถานที่ที่มาจากลิงก์ที่ผู้ใช้ใส่

<table data-header-hidden data-full-width="false"><thead><tr><th width="356"></th><th></th></tr></thead><tbody><tr><td><img src="../../.gitbook/assets/Untitled (2).png" alt=""></td><td><img src="../../.gitbook/assets/Untitled (1) (1).png" alt=""></td></tr></tbody></table>



* การเปลี่ยนแปลงแผนการท่องเที่ยวโดยผู้ใช้งาน: เมื่อผู้ใช้งานเปลี่ยนแปลงแผนการท่องเที่ยวถึง 5 ครั้ง เซอร์วิสในทางหลังบ้านจะทำการจัดการแผนการท่องเที่ยวใหม่ด้วยข้อมูลแผนการท่องเที่ยวปัจจุบัน เพื่อนำไปแนะนำให้กับผู้ใช้

<table data-header-hidden data-full-width="false"><thead><tr><th width="356"></th><th></th></tr></thead><tbody><tr><td><img src="../../.gitbook/assets/Untitled (2) (1).png" alt="" data-size="original"></td><td><img src="../../.gitbook/assets/Untitled (3).png" alt="" data-size="original"></td></tr></tbody></table>

โดยขั้นตอนของการวางแผนการท่องเที่ยวแบบอันโนมัติจะเป็นดังนี้

1. **รวบรวมสถานที่เพิ่มเติม:** ซึ่งจะค้นหาสถานที่ท่องเที่ยวอื่น ๆ ที่อยู่ในบริเวณใกล้เคียงกับสถานที่ที่ผู้ใช้งานกรอก หรือถ้าหากว่าผู้ใช้งานไม่ได้กรอกแต่แรก เซอร์วิสจะค้นหาสถานที่ท่องเที่ยวของทั้งตัวเมื่องของแผนนั้น แล้วนำลิสท์ของสถานที่ไปกรองโดยนำคะแนนของแต่ละสถานที่ไปเปรียบเทียบการไลฟ์ไสตล์การท่องเที่ยวของผู้ใช้งาน โดยจะนำสถานที่ที่มีคะแนนมากสุด 100 ตัวแรกเป็นผลลัพธ์ของขั้นตอนนี้
2. **นำสถานที่ใส่เข้าไปในตารางเวลา:** เซอร์วิสจะทำการจัดเรียงสถานที่เข้าตารางเวลาแผน โดยเวลาของแต่ละสถานที่จะขึ้นกับช่วงเวลาที่มีผลรวมคะแนนเรตติ้งสูงสุด ซึ่งช่วงเวลานั้นจะต้องอยู่ในช่วงเวลาที่เปิดของสถานที่นั้นที่สามารถได้มาจาก Google Place API ยกตัวอย่างเช่น สำหรับการคำนวณเวลาการเยี่ยมชมปราสาทเอดินบะระ ซึ่งสมมติว่าแต่ละช่วงเวลาที่เปิดมีคะแนนเรตติงดังนี้

**ช่วงเวลา**

**คะแนนสถานที่**

|               |      |
| ------------- | ---- |
| 8.00 - 8.59   | null |
| 9.00 - 9.59   | 2.00 |
| 10.00 - 10.59 | 3.23 |
| 11.00 - 11.59 | 4.30 |
| 12.00 - 12.59 | 4.56 |
| 13.00 - 13.59 | 3.13 |
| 14.00 - 14.59 | 3.02 |
| 15.00 - 15.59 | 3.15 |

ซึ่งถ้าหากว่าเราสมมติว่าผู้ใช้งานจะอยู่ในสถานที่นี้เป็นเวลา 3 ชั่วโมง แสดงว่าผู้ใช้งานนั้นควรที่จะเยี่ยมชมสถานที่ดังกล่าวในช่วง 10.00 ถึง 12.59 เนื่องจากเป็นช่วงเวลาที่มีผลรวมคะแนนสถานที่ที่สูงที่สุดที่ 12.09 (3.23 + 4.30 + 4.56)

ในกระบวนการวางแผนท่องเที่ยวที่ออกแบบมาเพื่อความสะดวกและลดเวลาการเดินทาง เซอร์วิสจะคำนึงถึงการจัดเรียงสถานที่ในตารางเวลาอย่างละเอียด เพื่อให้การเยี่ยมชมแต่ละสถานที่เกิดขึ้นได้อย่างต่อเนื่อง โดยมีขั้นตอนสำคัญดังนี้

1. เซอร์วิสจะจัดเรียงสถานที่ในตารางเวลาให้ใกล้เคียงกับสถานที่จริง เพื่อให้ระยะเวลาการเดินทางต่ำ
2. หากช่วงเวลาการเยี่ยมชมสถานที่ที่อยู่ใกล้กันมากเกินไปจนทำให้ผู้ใช้งานไม่สามารถเดินทางไปถึงได้ทันเวลา ระบบจะเลื่อนช่วงเวลาการเยี่ยมชมของสถานที่ถัดไปให้เหมาะสม
3. เซอร์วิสจะบังคับให้มีร้านอาหารในตารางเวลา เพื่อให้แน่ใจว่าผู้ใช้งานได้มีเวลาพักผ่อนและรับประทานอาหาร
4. หากในตารางเวลามีช่องว่างระหว่างช่วงการเยี่ยมชมมาก ระบบจะพยายามเพิ่มสถานที่ท่องเที่ยวในบริเวณที่ใกล้เคียงกับสถานที่ก่อนหน้าเพื่อให้แผนการเดินทางมีความต่อเนื่องและเต็มประสิทธิภาพ
